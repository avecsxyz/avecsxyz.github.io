{"version":3,"file":"js/625.216cd97f.js","mappings":"2PACOA,MAAM,mB,UAEPC,EAAAA,EAAAA,GAAoC,QAA9BD,MAAM,SAAQ,aAAS,K,GAoBxBE,MAAA,iB,qJAtBTC,EAAAA,EAAAA,IA0BM,MA1BNC,EA0BM,mBA1B0BC,EAAAC,OAAOC,MAAMC,WAAY,IACvD,IAAAC,EAAAA,EAAAA,IAwBWC,EAAA,CAxBDC,IAAI,OAAQC,SAAQC,EAAAC,MAAQC,MAAOC,EAAAD,O,mBAC3C,IAAoC,CAApCE,GACAR,EAAAA,EAAAA,IAkBiBS,EAAA,CAlBDC,MAAA,IAAK,C,kBACnB,IAOE,EAPFV,EAAAA,EAAAA,IAOEW,EAAA,C,WANcJ,EAAAK,KAAKC,U,qCAALN,EAAAK,KAAKC,UAASC,G,eAA5B,CAAAC,MAAA,GACAC,KAAK,MACLC,MAAM,MACNC,aAAa,KACbC,YAAY,MACXb,MAAO,CAAC,CAADc,UAAA,EAAAC,QAAA,Y,wBAEVrB,EAAAA,EAAAA,IAQEW,EAAA,C,WAPcJ,EAAAK,KAAKU,S,qCAALf,EAAAK,KAAKU,SAAQR,G,eAA3B,CAAAC,MAAA,GACAQ,KAAK,WACLP,KAAK,KACLC,MAAM,KACNC,aAAa,KACbC,YAAY,KACXb,MAAO,CAAC,CAADc,UAAA,EAAAC,QAAA,W,iCAGZ7B,EAAAA,EAAAA,GAEM,MAFNgC,EAEM,EADJxB,EAAAA,EAAAA,IAAwFyB,EAAA,CAA5EC,MAAA,GAAMC,KAAK,QAAQC,MAAA,GAAML,KAAK,UAAU,cAAY,U,mBAAS,IAAE,UAAF,S,0EAUjF,GACEP,KAAM,QACNa,iBAAiBC,EAAIC,EAAMC,GACrBC,EAAAA,EAAMnC,MAAMC,UACdiC,EAAK,KAELA,GAEJ,EACAE,OACE,MAAO,CACLtB,KAAM,CACJC,UAAWsB,cAActB,WAAa,GACtCS,SAAUa,cAAcb,UAAY,IAEtChB,MAAO,CACLO,UAAW,CAAC,CAAEO,UAAU,EAAMC,QAAS,SAAUe,QAAS,SAC1Dd,SAAU,CAAC,CAAEF,UAAU,EAAMC,QAAS,QAASe,QAAS,UAE1DC,SAAS,EAEb,EACAC,QAAS,CACPjC,QACEkC,KAAKF,SAAU,GACfhC,EAAAA,EAAAA,IAAMkC,KAAK3B,MACR4B,MAAKC,IACAA,IACFN,aAAatB,UAAY0B,KAAK3B,KAAKC,UACnCsB,aAAab,SAAWiB,KAAK3B,KAAKU,SAClCiB,KAAKG,QAAQ,CAAEnB,KAAM,UAAWF,QAAS,SACzCkB,KAAK1C,OAAO8C,OAAO,WAAYF,GAAKG,OACpCL,KAAK1C,OAAO8C,OAAO,cAAe,CAAE9B,UAAW4B,EAAI5B,UAAWgC,KAAMJ,EAAII,MAAQ,IAC5EJ,GAAKG,QACU,IAAbH,EAAII,KACNN,KAAKO,QAAQC,KAAK,WACK,IAAdN,EAAII,KACbN,KAAKO,QAAQC,KAAK,eAElBR,KAAKO,QAAQC,KAAK,MAGxB,IAEDC,OAAMC,IACLC,QAAQC,IAAIF,GACZV,KAAKG,QAAQ,CAAEnB,KAAM,SAAUF,QAAS4B,GAAM,IAE/CG,SAAQ,KACPb,KAAKF,SAAU,CAAI,GAEzB,I,QC9EJ,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://ave-admin-h5/./src/views/login.vue","webpack://ave-admin-h5/./src/views/login.vue?6051"],"sourcesContent":["<template>\n  <div class=\"login-container\">{{ $store.state.authToken }}\n    <van-form ref=\"form\" @submit=\"login\" :rules=\"rules\">\n      <span class=\"title\">AVE后台管理系统</span>\n      <van-cell-group inset>\n        <van-field\n          v-model.trim=\"form.user_name\"\n          name=\"用户名\"\n          label=\"用户名\"\n          autocomplete=\"on\"\n          placeholder=\"用户名\"\n          :rules=\"[{ required: true, message: '请填写用户名' }]\"\n        />\n        <van-field\n          v-model.trim=\"form.password\"\n          type=\"password\"\n          name=\"密码\"\n          label=\"密码\"\n          autocomplete=\"on\"\n          placeholder=\"密码\"\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n      </van-cell-group>\n      <div style=\"margin: 16px\">\n        <van-button round size=\"small\" block type=\"primary\" native-type=\"submit\">登录</van-button>\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script>\nimport { login } from '@/api'\nimport store from '@/store'\n\nexport default {\n  name: 'Login',\n  beforeRouteEnter(to, from, next) {\n    if (store.state.authToken) {\n      next('/')\n    } else {\n      next()\n    }\n  },\n  data() {\n    return {\n      form: {\n        user_name: localStorage?.user_name || '',\n        password: localStorage?.password || ''\n      },\n      rules: {\n        user_name: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\n      },\n      loading: false\n    }\n  },\n  methods: {\n    login() {\n      this.loading = true\n      login(this.form)\n        .then(res => {\n          if (res) {\n            localStorage.user_name = this.form.user_name\n            localStorage.password = this.form.password\n            this.$notify({ type: 'success', message: '登录成功' })\n            this.$store.commit('setToken', res?.token)\n            this.$store.commit('setUserInfo', { user_name: res.user_name, role: res.role || 1 })\n            if (res?.token) {\n              if (res.role === 3) {\n                this.$router.push('/check')\n              } else if (res.role === -1) {\n                this.$router.push('/token/logo')\n              } else {\n                this.$router.push('/')\n              }\n            }\n          }\n        })\n        .catch(err => {\n          console.log(err)\n          this.$notify({ type: 'danger', message: err })\n        })\n        .finally(() => {\n          this.loading = false\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-container {\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-items: center;\n  background-color: #2c3254;\n}\n.login-form {\n  background: #ffffff;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\n  border-radius: 10px;\n  width: 565px;\n  min-height: 350px;\n  max-width: 90%;\n  padding: 45px 57px 90px;\n}\n.title {\n  color: #fff;\n  font-size: 24px;\n  font-weight: 500;\n  margin-bottom: 30px;\n  display: block;\n}\n.form-footer {\n  margin-top: 60px;\n  .submit-btn {\n    width: 100%;\n  }\n}\n</style>\n","import { render } from \"./login.vue?vue&type=template&id=3ed821c4&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=3ed821c4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3ed821c4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_ctx","$store","state","authToken","_createVNode","_component_van_form","ref","onSubmit","$options","login","rules","$data","_hoisted_2","_component_van_cell_group","inset","_component_van_field","form","user_name","$event","trim","name","label","autocomplete","placeholder","required","message","password","type","_hoisted_3","_component_van_button","round","size","block","beforeRouteEnter","to","from","next","store","data","localStorage","trigger","loading","methods","this","then","res","$notify","commit","token","role","$router","push","catch","err","console","log","finally","__exports__","render"],"sourceRoot":""}